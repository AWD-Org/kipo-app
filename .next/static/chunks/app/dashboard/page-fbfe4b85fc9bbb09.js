(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{58616:function(e,s,a){Promise.resolve().then(a.bind(a,64850)),Promise.resolve().then(a.bind(a,72358))},64850:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(57437),r=a(2265),n=a(82749),l=a(15671),i=a(575),o=a(45253),d=a(57703),c=a(28485),x=a(36612),m=a(86812),u=a(38227),h=a(16573),j=a(24235),g=a(50039),p=a(79857),f=a(19223),y=a(44909),b=a(31346),v=a(9883),N=a(34822),w=a(85790),Z=a(66654),A=a(17158),z=a(3021),C=a(22169),G=a(61396),S=a.n(G);let O={transactions:[{id:1,type:"ingreso",amount:25e3,category:"Salario",date:"2023-11-01",description:"N\xf3mina mensual"},{id:2,type:"gasto",amount:7500,category:"Vivienda",date:"2023-11-02",description:"Renta"},{id:3,type:"gasto",amount:3e3,category:"Alimentaci\xf3n",date:"2023-11-05",description:"Compra semanal"},{id:4,type:"gasto",amount:1200,category:"Transporte",date:"2023-11-08",description:"Gasolina"},{id:5,type:"gasto",amount:2500,category:"Servicios",date:"2023-11-10",description:"Luz y agua"},{id:6,type:"gasto",amount:1800,category:"Entretenimiento",date:"2023-11-15",description:"Cine y cena"},{id:7,type:"ingreso",amount:3e3,category:"Freelance",date:"2023-11-20",description:"Proyecto extra"},{id:8,type:"gasto",amount:1500,category:"Salud",date:"2023-11-25",description:"Medicamentos"}],goals:[{id:1,title:"Fondo de emergencia",targetAmount:5e4,currentAmount:15e3,category:"ahorro",targetDate:"2024-06-30"},{id:2,title:"Vacaciones",targetAmount:2e4,currentAmount:5e3,category:"ahorro",targetDate:"2024-07-15"},{id:3,title:"Nuevo laptop",targetAmount:25e3,currentAmount:8e3,category:"compra",targetDate:"2024-03-01"}],alerts:[{id:1,type:"warning",message:"Has gastado 80% de tu presupuesto de Entretenimiento este mes",date:"2023-11-26"},{id:2,type:"info",message:'Tu meta "Nuevo laptop" va por buen camino, has ahorrado 32% del objetivo. \xa1Sigue as\xed!',date:"2023-11-25"},{id:3,type:"success",message:"Tu balance este mes es positivo, \xa1felicidades!",date:"2023-11-24"}]},k=()=>({expensesByCategory:O.transactions.filter(e=>"gasto"===e.type).reduce((e,s)=>{let a=e.find(e=>e.name===s.category);return a?a.value+=s.amount:e.push({name:s.category,value:s.amount}),e},[]),lineChartData:Object.values(O.transactions.reduce((e,s)=>{let a=s.date.substring(0,10);return e[a]||(e[a]={date:a,ingresos:0,gastos:0}),"ingreso"===s.type?e[a].ingresos+=s.amount:e[a].gastos+=s.amount,e},{})).sort((e,s)=>e.date.localeCompare(s.date)),goalsProgress:O.goals.map(e=>({name:e.title,actual:e.currentAmount,objetivo:e.targetAmount,progreso:Math.round(e.currentAmount/e.targetAmount*100)}))});function D(){var e;let{data:s}=(0,n.useSession)({required:!1}),a=(null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.name)||"Usuario",[G,D]=(0,r.useState)(()=>k()),I={totalIncome:O.transactions.filter(e=>"ingreso"===e.type).reduce((e,s)=>e+s.amount,0),totalExpenses:O.transactions.filter(e=>"gasto"===e.type).reduce((e,s)=>e+s.amount,0),totalSavings:O.goals.reduce((e,s)=>e+s.currentAmount,0),totalGoals:O.goals.reduce((e,s)=>e+s.targetAmount,0)},E=I.totalIncome-I.totalExpenses,K=["#4f46e5","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6"];return(0,t.jsxs)("div",{className:"kipo-dashboard-layout",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Bienvenido, ",a,". Aqu\xed est\xe1 tu resumen financiero."]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.z,{variant:"outline",children:"Exportar datos"}),(0,t.jsx)(S(),{href:"/dashboard/new-transaction",children:(0,t.jsxs)(i.z,{className:"gap-1",children:[(0,t.jsx)(v.Z,{size:16})," Nueva transacci\xf3n"]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Balance disponible"}),(0,t.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,C.xG)(E)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:E>=0?"+"+(0,C.xG)(E-1e4)+" vs. mes pasado":(0,C.xG)(E-1e4)+" vs. mes pasado"})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Ingresos del mes"}),(0,t.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,C.xG)(I.totalIncome)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",(0,C.xG)(2e3)," vs. mes pasado"]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Gastos del mes"}),(0,t.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,C.xG)(I.totalExpenses)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["-",(0,C.xG)(1500)," vs. mes pasado"]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Ahorros actuales"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,C.xG)(I.totalSavings)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Math.round(I.totalSavings/I.totalGoals*100),"% de la meta"]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,t.jsxs)(l.Zb,{className:"col-span-full md:col-span-1 lg:col-span-2",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Gastos por categor\xeda"}),(0,t.jsx)(l.SZ,{children:"Distribuci\xf3n de tus gastos este mes"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(o.h,{width:"100%",height:"100%",children:(0,t.jsxs)(d.u,{children:[(0,t.jsx)(c.b,{data:G.expensesByCategory,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:s,percent:a}=e;return"".concat(s,": ").concat((100*a).toFixed(0),"%")},children:G.expensesByCategory.map((e,s)=>(0,t.jsx)(x.b,{fill:K[s%K.length]},"cell-".concat(s)))}),(0,t.jsx)(m.u,{formatter:e=>(0,C.xG)(e)})]})})})})]}),(0,t.jsxs)(l.Zb,{className:"col-span-full md:col-span-1 lg:col-span-5",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Ingresos vs Gastos"}),(0,t.jsx)(l.SZ,{children:"Comparativa diaria del mes actual"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(o.h,{width:"100%",height:"100%",children:(0,t.jsxs)(u.w,{data:G.lineChartData,children:[(0,t.jsx)(h.q,{strokeDasharray:"3 3"}),(0,t.jsx)(j.K,{dataKey:"date"}),(0,t.jsx)(g.B,{}),(0,t.jsx)(m.u,{formatter:e=>(0,C.xG)(e)}),(0,t.jsx)(p.D,{}),(0,t.jsx)(f.x,{type:"monotone",dataKey:"ingresos",stroke:"#4f46e5",activeDot:{r:8},name:"Ingresos"}),(0,t.jsx)(f.x,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",name:"Gastos"})]})})})})]}),(0,t.jsxs)(l.Zb,{className:"col-span-full",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Progreso de metas"}),(0,t.jsx)(l.SZ,{children:"Avance actual hacia tus objetivos financieros"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(o.h,{width:"100%",height:"100%",children:(0,t.jsxs)(y.v,{data:G.goalsProgress,children:[(0,t.jsx)(h.q,{strokeDasharray:"3 3"}),(0,t.jsx)(j.K,{dataKey:"name"}),(0,t.jsx)(g.B,{yAxisId:"left",orientation:"left",stroke:"#4f46e5"}),(0,t.jsx)(g.B,{yAxisId:"right",orientation:"right",stroke:"#22c55e"}),(0,t.jsx)(m.u,{formatter:(e,s)=>"progreso"===s?"".concat(e,"%"):(0,C.xG)(e)}),(0,t.jsx)(p.D,{}),(0,t.jsx)(b.$,{yAxisId:"left",dataKey:"actual",name:"Ahorrado",fill:"#4f46e5"}),(0,t.jsx)(b.$,{yAxisId:"left",dataKey:"objetivo",name:"Objetivo",fill:"#8b5cf6"}),(0,t.jsx)(f.x,{yAxisId:"right",type:"monotone",dataKey:"progreso",name:"Progreso %",stroke:"#22c55e"})]})})})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ll,{children:"\xdaltimas transacciones"}),(0,t.jsx)(l.SZ,{children:"Movimientos recientes en tu cuenta"})]}),(0,t.jsx)(S(),{href:"/dashboard/transactions",children:(0,t.jsxs)(i.z,{variant:"ghost",size:"sm",className:"gap-1",children:["Ver todas ",(0,t.jsx)(A.Z,{size:16})]})})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:O.transactions.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-2 h-10 rounded-full ".concat("ingreso"===e.type?"bg-green-500":"bg-red-500")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.category}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.date})]})]}),(0,t.jsxs)("div",{className:"font-bold ".concat("ingreso"===e.type?"text-green-500":"text-red-500"),children:["ingreso"===e.type?"+":"-",(0,C.xG)(e.amount)]})]},e.id))})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ll,{children:"Alertas y notificaciones"}),(0,t.jsx)(l.SZ,{children:"Informaci\xf3n importante sobre tus finanzas"})]}),(0,t.jsx)(S(),{href:"/dashboard/alerts",children:(0,t.jsxs)(i.z,{variant:"ghost",size:"sm",className:"gap-1",children:["Ver todas ",(0,t.jsx)(A.Z,{size:16})]})})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:O.alerts.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full ".concat("warning"===e.type?"bg-yellow-100 text-yellow-600":"info"===e.type?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"),children:(0,t.jsx)(z.Z,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.date})]})]},e.id))})})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Recomendaciones personalizadas"}),(0,t.jsx)(l.SZ,{children:"Sugerencias inteligentes basadas en tus h\xe1bitos financieros"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border p-4 bg-primary/5",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Oportunidad de ahorro detectada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Tus gastos en la categor\xeda de Entretenimiento han aumentado un 15% en los \xfaltimos dos meses. Considerando tu meta de ahorro, podr\xedas reducir este gasto para alcanzar tu objetivo m\xe1s r\xe1pido."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.z,{variant:"outline",size:"sm",children:"Ver detalles"}),(0,t.jsx)(i.z,{size:"sm",children:"Establecer l\xedmite"})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4 bg-primary/5",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Planifica para pr\xf3ximos gastos"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Basado en tu historial, es probable que tengas gastos de servicios p\xfablicos en los pr\xf3ximos 5 d\xedas. Aseg\xfarate de tener suficiente saldo disponible."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.z,{variant:"outline",size:"sm",children:"Ver detalles"}),(0,t.jsx)(i.z,{size:"sm",children:"Crear recordatorio"})]})]})]})}),(0,t.jsx)(l.eW,{children:(0,t.jsx)(i.z,{variant:"outline",className:"w-full",children:"Ver m\xe1s recomendaciones"})})]})]})}},15671:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},eW:function(){return x},ll:function(){return o}});var t=a(57437),r=a(2265),n=a(22169);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});x.displayName="CardFooter"}},function(e){e.O(0,[451,873,250,743,749,317,971,938,744],function(){return e(e.s=58616)}),_N_E=e.O()}]);