(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{9883:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},25544:function(e,s,t){Promise.resolve().then(t.bind(t,57901))},57901:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var r=t(57437),n=t(2265),a=t(61396),l=t.n(a),i=t(82749),c=t(15671),d=t(575),o=t(22782),u=t(9883),x=t(62898);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,x.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m=(0,x.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),h=(0,x.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var p=t(22169),j=t(224),g=t(91211),N=t(72358),v=t(77625);function y(){let{status:e}=(0,i.useSession)({required:!0}),s=(0,j.T)(),{items:t,isLoading:a,error:x}=(0,j.C)(e=>e.transactions),[N,y]=(0,n.useState)(""),[b,w]=(0,n.useState)(null),[k,C]=(0,n.useState)("desc");(0,n.useEffect)(()=>{"authenticated"===e&&s((0,g.mC)())},[s,e]);let O=t.filter(e=>{let s=!N||(e.description||"").toLowerCase().includes(N.toLowerCase())||e.category.toLowerCase().includes(N.toLowerCase()),t=!b||e.type===b;return s&&t}).sort((e,s)=>{let t=new Date(e.date).getTime(),r=new Date(s.date).getTime();return"asc"===k?t-r:r-t});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Transacciones"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Administra tus ingresos y gastos"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l(),{href:"/dashboard/new-transaction",children:(0,r.jsxs)(d.z,{className:"gap-1",children:[(0,r.jsx)(u.Z,{size:16})," Nueva transacci\xf3n"]})}),(0,r.jsxs)(d.z,{variant:"outline",onClick:()=>{},children:[(0,r.jsx)(f,{size:16})," Exportar"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(o.I,{placeholder:"Buscar por descripci\xf3n o categor\xeda...",className:"pl-10",value:N,onChange:e=>y(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.z,{variant:null===b?"default":"outline",onClick:()=>w(null),children:"Todos"}),(0,r.jsx)(d.z,{variant:"ingreso"===b?"default":"outline",onClick:()=>w("ingreso"),className:"text-green-500",children:"Ingresos"}),(0,r.jsx)(d.z,{variant:"gasto"===b?"default":"outline",onClick:()=>w("gasto"),className:"text-red-500",children:"Gastos"}),(0,r.jsxs)(d.z,{variant:"outline",onClick:()=>C(e=>"asc"===e?"desc":"asc"),className:"gap-1",children:[(0,r.jsx)(h,{size:16})," ","asc"===k?"M\xe1s antiguos":"M\xe1s recientes"]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Historial de transacciones"}),(0,r.jsx)(c.SZ,{children:a?"Cargando...":x||"".concat(O.length," transacciones encontradas")})]}),(0,r.jsx)(c.aY,{className:"p-0",children:a?Array.from({length:5}).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(v.O,{className:"h-10 w-2 rounded"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(v.O,{className:"h-4 w-24 rounded"}),(0,r.jsx)(v.O,{className:"h-3 w-32 rounded"}),(0,r.jsx)(v.O,{className:"h-3 w-12 rounded"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,r.jsx)(v.O,{className:"h-4 w-16 rounded"}),(0,r.jsx)(v.O,{className:"h-4 w-20 rounded"})]})]},s)):x?(0,r.jsx)("div",{className:"p-8 text-center text-destructive",children:x}):0===O.length?(0,r.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No hay transacciones"}):O.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-2 h-10 rounded-full ".concat("ingreso"===e.type?"bg-green-500":"bg-red-500")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.category}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description||"Sin descripci\xf3n"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.date).toLocaleDateString("es-MX")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsxs)("p",{className:"font-bold ".concat("ingreso"===e.type?"text-green-500":"text-red-500"),children:["ingreso"===e.type?"+":"-",(0,p.xG)(e.amount)]}),e.isRecurrent&&(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800",children:"Recurrente"})]})]},e.id))})]})]})}function b(){return(0,r.jsx)(N.ReduxProvider,{children:(0,r.jsx)(y,{})})}},15671:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var r=t(57437),n=t(2265),a=t(22169);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});l.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...n})});o.displayName="CardContent";let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})});u.displayName="CardFooter"},22782:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var r=t(57437),n=t(2265),a=t(22169);let l=n.forwardRef((e,s)=>{let{className:t,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},77625:function(e,s,t){"use strict";t.d(s,{O:function(){return n}});var r=t(57437);function n(e){let{className:s="",...t}=e;return(0,r.jsx)("div",{"aria-hidden":"true",className:"bg-muted animate-pulse ".concat(s),...t})}t(2265)},224:function(e,s,t){"use strict";t.d(s,{C:function(){return a},T:function(){return n}});var r=t(93046);let n=()=>(0,r.I0)(),a=r.v9},61396:function(e,s,t){e.exports=t(25250)}},function(e){e.O(0,[451,873,250,743,317,971,938,744],function(){return e(e.s=25544)}),_N_E=e.O()}]);