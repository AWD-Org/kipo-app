(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{86264:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9883:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},62601:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(58960)},25544:function(e,t,r){Promise.resolve().then(r.bind(r,58273))},58273:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(57437),s=r(2265),i=r(224),a=r(91211),l=r(15671),o=r(575),c=r(22782),u=r(9883),d=r(62898);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,d.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=(0,d.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var p=r(86264);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,d.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),h=(0,d.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var g=r(61396),v=r.n(g),y=r(22169),j=r(72358);function N(){let e=(0,i.T)(),{items:t,isLoading:r,error:d}=(0,i.C)(e=>e.transactions),[g,j]=(0,s.useState)(""),[N,b]=(0,s.useState)(null),[w,k]=(0,s.useState)("desc");(0,s.useEffect)(()=>{e((0,a.mC)("demo-user-id"))},[e]);let T=t.filter(e=>{var t;let r=!g||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||e.category.toLowerCase().includes(g.toLowerCase()),n=!N||e.type===N;return r&&n}).sort((e,t)=>{let r=new Date(e.date).getTime(),n=new Date(t.date).getTime();return"asc"===w?r-n:n-r});return(0,n.jsxs)("div",{className:"kipo-dashboard-layout",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Transacciones"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Administra tus ingresos y gastos"})]}),(0,n.jsx)(v(),{href:"/dashboard/new-transaction",children:(0,n.jsxs)(o.z,{className:"gap-1",children:[(0,n.jsx)(u.Z,{size:16})," Nueva transacci\xf3n"]})})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(c.I,{placeholder:"Buscar por descripci\xf3n o categor\xeda...",className:"pl-10",value:g,onChange:e=>j(e.target.value)})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(o.z,{variant:null===N?"default":"outline",onClick:()=>b(null),children:"Todos"}),(0,n.jsx)(o.z,{variant:"ingreso"===N?"default":"outline",onClick:()=>b("ingreso"),className:"text-green-500",children:"Ingresos"}),(0,n.jsx)(o.z,{variant:"gasto"===N?"default":"outline",onClick:()=>b("gasto"),className:"text-red-500",children:"Gastos"}),(0,n.jsxs)(o.z,{variant:"outline",onClick:()=>k("asc"===w?"desc":"asc"),className:"gap-1",children:[(0,n.jsx)(x,{size:16}),"asc"===w?"M\xe1s antiguos":"M\xe1s recientes"]})]})]}),(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsx)(l.ll,{children:"Historial de transacciones"}),(0,n.jsxs)(l.SZ,{children:[T.length," transacciones encontradas"]})]}),(0,n.jsx)(l.aY,{className:"p-0",children:r?(0,n.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,n.jsx)(p.Z,{className:"h-8 w-8 animate-spin text-primary"})}):d?(0,n.jsx)("div",{className:"p-8 text-center text-destructive",children:d}):0===T.length?(0,n.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No se encontraron transacciones con los filtros actuales."}):(0,n.jsx)("div",{children:T.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"w-2 h-10 rounded-full ".concat("ingreso"===e.type?"bg-green-500":"bg-red-500")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:e.category}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description||"Sin descripci\xf3n"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.date).toLocaleDateString("es-MX")})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end",children:[(0,n.jsxs)("p",{className:"font-bold ".concat("ingreso"===e.type?"text-green-500":"text-red-500"),children:["ingreso"===e.type?"+":"-",(0,y.xG)(e.amount)]}),e.isRecurrent&&(0,n.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800",children:"Recurrente"})]})]},e.id))})}),(0,n.jsxs)(l.eW,{className:"flex justify-between border-t p-4",children:[(0,n.jsxs)(o.z,{variant:"outline",className:"gap-1",children:[(0,n.jsx)(m,{size:16}),"M\xe1s filtros"]}),(0,n.jsxs)(o.z,{variant:"outline",className:"gap-1",children:[(0,n.jsx)(h,{size:16}),"Exportar"]})]})]})]})}function b(){return(0,n.jsx)(j.ReduxProvider,{children:(0,n.jsx)(N,{})})}},15671:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return a},aY:function(){return u},eW:function(){return d},ll:function(){return o}});var n=r(57437),s=r(2265),i=r(22169);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});u.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter"},22782:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(57437),s=r(2265),i=r(22169);let a=s.forwardRef((e,t)=>{let{className:r,type:s,...a}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});a.displayName="Input"},224:function(e,t,r){"use strict";r.d(t,{C:function(){return i},T:function(){return s}});var n=r(93046);let s=()=>(0,n.I0)(),i=n.v9},58960:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var o=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?o=n.concat(o):u=-1,o.length&&f())}function f(){if(!c){var e=l(d);c=!0;for(var t=o.length;t;){for(n=o,o=[];++u<t;)n&&n[u].run();u=-1,t=o.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new x(e,t)),1!==o.length||c||l(f)},x.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()},61396:function(e,t,r){e.exports=r(25250)}},function(e){e.O(0,[451,250,743,317,971,938,744],function(){return e(e.s=25544)}),_N_E=e.O()}]);