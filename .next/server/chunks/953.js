exports.id=953,exports.ids=[953],exports.modules={35612:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},51851:(e,r,s)=>{Promise.resolve().then(s.bind(s,43369))},63595:(e,r,s)=>{Promise.resolve().then(s.bind(s,42317)),Promise.resolve().then(s.bind(s,42105))},43369:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var a=s(95344),n=s(20783),t=s.n(n),o=s(22254),i=s(47674),d=s(2273),l=s(85674),c=s(17910),m=s(17875),u=s(13746),h=s(48120),p=s(14513),f=s(5094),x=s(3729);function g({children:e}){let{data:r}=(0,i.useSession)(),s=(0,o.usePathname)(),[n,g]=(0,x.useState)(!1),b=[{name:"Dashboard",href:"/dashboard",icon:a.jsx(d.Z,{className:"h-5 w-5"})},{name:"Transacciones",href:"/dashboard/transactions",icon:a.jsx(l.Z,{className:"h-5 w-5"})},{name:"Metas",href:"/dashboard/goals",icon:a.jsx(c.Z,{className:"h-5 w-5"})},{name:"Alertas",href:"/dashboard/alerts",icon:a.jsx(m.Z,{className:"h-5 w-5"})},{name:"Configuraci\xf3n",href:"/dashboard/settings",icon:a.jsx(u.Z,{className:"h-5 w-5"})}];return(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsxs)("aside",{className:"hidden md:flex flex-col w-64 border-r bg-card",children:[a.jsx("div",{className:"p-6",children:a.jsx(t(),{href:"/",className:"flex items-center gap-2",children:a.jsx("span",{className:"font-bold text-2xl kipo-gradient",children:"Kipo"})})}),a.jsx("nav",{className:"flex-1 px-4 space-y-1",children:b.map(({name:e,href:r,icon:n})=>(0,a.jsxs)(t(),{href:r,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm ${s===r?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,children:[n,e]},r))}),a.jsx("div",{className:"p-4 border-t flex flex-col gap-2",children:(0,a.jsxs)(f.z,{variant:"ghost",className:"w-full justify-start gap-2 mt-4 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>(0,i.signOut)({callbackUrl:"/"}),children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Cerrar sesi\xf3n"]})})]}),(0,a.jsxs)("div",{className:`fixed inset-0 z-40 md:hidden ${n?"block":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>g(!1)}),(0,a.jsxs)("div",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-card shadow-lg flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 flex justify-between items-center",children:[a.jsx(t(),{href:"/",className:"flex items-center gap-2",children:a.jsx("span",{className:"font-bold text-2xl kipo-gradient",children:"Kipo"})}),a.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>g(!1),children:a.jsx(p.Z,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"flex-1 px-4 space-y-1",children:b.map(({name:e,href:r,icon:n})=>(0,a.jsxs)(t(),{href:r,onClick:()=>g(!1),className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm ${s===r?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,children:[n,e]},r))}),a.jsx("div",{className:"p-4 border-t",children:(0,a.jsxs)(f.z,{variant:"ghost",className:"w-full justify-start gap-2 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>(0,i.signOut)({callbackUrl:"/"}),children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Cerrar sesi\xf3n"]})})]})]}),a.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:e})]})}},42317:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});var a=s(95344),n=s(47674);function t({children:e}){return a.jsx(n.SessionProvider,{children:e})}},42105:(e,r,s)=>{"use strict";s.r(r),s.d(r,{ThemeProvider:()=>t});var a=s(95344);s(3729);var n=s(6256);function t({children:e,...r}){return a.jsx(n.f,{...r,children:e})}},5094:(e,r,s)=>{"use strict";s.d(r,{z:()=>l});var a=s(95344),n=s(3729),t=s(45877),o=s(49247),i=s(11453);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:r,size:s,asChild:n=!1,...o},l)=>{let c=n?t.Slot:"button";return a.jsx(c,{className:(0,i.cn)(d({variant:r,size:s,className:e})),ref:l,...o})});l.displayName="Button"},11453:(e,r,s)=>{"use strict";s.d(r,{SB:()=>i,cn:()=>t,xG:()=>o});var a=s(56815),n=s(79377);function t(...e){return(0,n.m6)((0,a.W)(e))}function o(e,r="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:r}).format(e)}function i(e,r){return r<=0?0:Math.min(Math.max(e/r*100,0),100)}},87786:(e,r,s)=>{let a=s(11185),n=s(6521),t=new a.Schema({name:{type:String,required:[!0,"Por favor proporciona un nombre"],trim:!0},email:{type:String,required:[!0,"Por favor proporciona un email"],unique:!0,lowercase:!0,match:[/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,"Por favor proporciona un email v\xe1lido"]},password:{type:String,required:[!0,"Por favor proporciona una contrase\xf1a"],minlength:6,select:!1},monthlyIncome:{type:Number,default:0},monthlyExpenses:{type:Number,default:0},mainExpenseCategories:{type:[String],default:[]},savingsGoal:{type:Number,default:0},referralSource:{type:String,default:""},createdAt:{type:Date,default:Date.now},isOnboarded:{type:Boolean,default:!1}});t.pre("save",async function(e){this.isModified("password")||e();let r=await n.genSalt(10);this.password=await n.hash(this.password,r)}),t.methods.matchPassword=async function(e){return await n.compare(e,this.password)},e.exports=a.models.User||a.model("User",t)},7784:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var a=s(25036),n=s(82002),t=s(49605),o=s(88726);let i=(0,s(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/DashboardShell.tsx`),{__esModule:d,$$typeof:l}=i,c=i.default;async function m({children:e}){return await (0,t.getServerSession)(n.L)||(0,o.redirect)("/login"),a.jsx(c,{children:e})}},56281:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g,metadata:()=>x});var a=s(25036),n=s(46408),t=s.n(n);s(5023);var o=s(72245),i=s(86843);let d=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx`),{__esModule:l,$$typeof:c}=d;d.default;let m=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx#ThemeProvider`),u=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/AuthProvider.tsx`),{__esModule:h,$$typeof:p}=u,f=u.default,x={title:"Kipo - Control de Finanzas Personales",description:"Gestiona tus finanzas personales de forma sencilla e inteligente."};function g({children:e}){return(0,a.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,children:[a.jsx("head",{}),a.jsx("body",{className:(0,o.cn)("min-h-screen bg-background font-sans antialiased",t().variable),children:a.jsx(f,{children:a.jsx(m,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:e})})})]})}},82002:(e,r,s)=>{"use strict";s.d(r,{L:()=>l});var a=s(86485),n=s(25459),t=s(87786),o=s.n(t),i=s(6521),d=s.n(i);let l={providers:[(0,a.Z)({id:"credentials",name:"Credenciales",credentials:{email:{label:"Email",type:"email"},password:{label:"Contrase\xf1a",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email y contrase\xf1a son requeridos");await (0,n.v)();let r=await o().findOne({email:e.email}).select("+password");if(!r)throw Error("Usuario no encontrado");if(!await d().compare(e.password,r.password))throw Error("Contrase\xf1a incorrecta");return{id:r._id.toString(),name:r.name,email:r.email,isOnboarded:r.isOnboarded}}})],pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.isOnboarded=r.isOnboarded),e),session:async({session:e,token:r})=>(r&&(e.user={...e.user,id:r.id,isOnboarded:r.isOnboarded}),e)},session:{strategy:"jwt",maxAge:2592e3},secret:process.env.NEXTAUTH_SECRET,debug:!1}},25459:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d,v:()=>i});var a=s(11185),n=s.n(a);let t=process.env.MONGODB_URI;if(!t)throw Error("Por favor define la variable de entorno MONGODB_URI dentro de .env.local");let o=global.mongoose;async function i(){return o.conn||(o.promise||(o.promise=n().connect(t,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(e=>e)),o.conn=await o.promise),o.conn}o||(o=global.mongoose={conn:null,promise:null});let d=i},72245:(e,r,s)=>{"use strict";s.d(r,{SB:()=>i,cn:()=>t,xG:()=>o});var a=s(70990),n=s(81774);function t(...e){return(0,n.m6)((0,a.W)(e))}function o(e,r="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:r}).format(e)}function i(e,r){return r<=0?0:Math.min(Math.max(e/r*100,0),100)}},5023:()=>{}};