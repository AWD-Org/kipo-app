exports.id=453,exports.ids=[453],exports.modules={35612:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},95416:(e,a,r)=>{Promise.resolve().then(r.bind(r,42317)),Promise.resolve().then(r.bind(r,42105))},51851:(e,a,r)=>{Promise.resolve().then(r.bind(r,43369))},43369:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(95344),s=r(20783),i=r.n(s),n=r(22254),o=r(47674),l=r(2273),d=r(85674),c=r(17910),m=r(17875),u=r(13746),g=r(47126),p=r(48120),f=r(14513),h=r(5094),y=r(3729);function x({children:e}){let{data:a}=(0,o.useSession)(),r=(0,n.usePathname)(),[s,x]=(0,y.useState)(!1),j=[{name:"Dashboard",href:"/dashboard",icon:t.jsx(l.Z,{className:"h-5 w-5"})},{name:"Transacciones",href:"/dashboard/transactions",icon:t.jsx(d.Z,{className:"h-5 w-5"})},{name:"Metas",href:"/dashboard/goals",icon:t.jsx(c.Z,{className:"h-5 w-5"})},{name:"Alertas",href:"/dashboard/alerts",icon:t.jsx(m.Z,{className:"h-5 w-5"})},{name:"Configuraci\xf3n",href:"/dashboard/settings",icon:t.jsx(u.Z,{className:"h-5 w-5"})}];return(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsxs)("aside",{className:"hidden md:flex flex-col w-64 border-r bg-card",children:[t.jsx("div",{className:"p-6",children:t.jsx(i(),{href:"/",className:"flex items-center gap-2",children:t.jsx("span",{className:"font-bold text-2xl kipo-gradient",children:"Kipo"})})}),t.jsx("nav",{className:"flex-1 px-4 space-y-1",children:j.map(({name:e,href:a,icon:s})=>(0,t.jsxs)(i(),{href:a,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm ${r===a?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,children:[s,e]},a))}),(0,t.jsxs)("div",{className:"p-4 border-t flex flex-col gap-2",children:[t.jsx(h.z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:(0,t.jsxs)(i(),{href:"/dashboard/new-transaction",children:[t.jsx(g.Z,{className:"h-4 w-4"}),"Nueva transacci\xf3n"]})}),t.jsx(h.z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:(0,t.jsxs)(i(),{href:"/dashboard/new-goal",children:[t.jsx(g.Z,{className:"h-4 w-4"}),"Nueva meta"]})}),(0,t.jsxs)(h.z,{variant:"ghost",className:"w-full justify-start gap-2 mt-4 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>(0,o.signOut)({callbackUrl:"/"}),children:[t.jsx(p.Z,{className:"h-4 w-4"}),"Cerrar sesi\xf3n"]})]})]}),(0,t.jsxs)("div",{className:`fixed inset-0 z-40 md:hidden ${s?"block":"hidden"}`,children:[t.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>x(!1)}),(0,t.jsxs)("div",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-card shadow-lg flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 flex justify-between items-center",children:[t.jsx(i(),{href:"/",className:"flex items-center gap-2",children:t.jsx("span",{className:"font-bold text-2xl kipo-gradient",children:"Kipo"})}),t.jsx(h.z,{variant:"ghost",size:"icon",onClick:()=>x(!1),children:t.jsx(f.Z,{className:"h-5 w-5"})})]}),t.jsx("nav",{className:"flex-1 px-4 space-y-1",children:j.map(({name:e,href:a,icon:s})=>(0,t.jsxs)(i(),{href:a,onClick:()=>x(!1),className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm ${r===a?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,children:[s,e]},a))}),t.jsx("div",{className:"p-4 border-t",children:(0,t.jsxs)(h.z,{variant:"ghost",className:"w-full justify-start gap-2 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>(0,o.signOut)({callbackUrl:"/"}),children:[t.jsx(p.Z,{className:"h-4 w-4"}),"Cerrar sesi\xf3n"]})})]})]}),t.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:e})]})}},42317:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var t=r(95344),s=r(47674);function i({children:e}){return t.jsx(s.SessionProvider,{children:e})}},42105:(e,a,r)=>{"use strict";r.r(a),r.d(a,{ThemeProvider:()=>i});var t=r(95344);r(3729);var s=r(6256);function i({children:e,...a}){return t.jsx(s.f,{...a,children:e})}},5094:(e,a,r)=>{"use strict";r.d(a,{z:()=>d});var t=r(95344),s=r(3729),i=r(45877),n=r(49247),o=r(11453);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:a,size:r,asChild:s=!1,...n},d)=>{let c=s?i.Slot:"button";return t.jsx(c,{className:(0,o.cn)(l({variant:a,size:r,className:e})),ref:d,...n})});d.displayName="Button"},11453:(e,a,r)=>{"use strict";r.d(a,{SB:()=>o,cn:()=>i,xG:()=>n});var t=r(56815),s=r(79377);function i(...e){return(0,s.m6)((0,t.W)(e))}function n(e,a="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:a}).format(e)}function o(e,a){return a<=0?0:Math.min(Math.max(e/a*100,0),100)}},54141:(e,a,r)=>{"use strict";r.r(a),r.d(a,{ReduxProvider:()=>$,default:()=>U,store:()=>F});var t=r(95344),s=r(99688),i=r(36013);r(3729);var n=r(96703);let o={items:[],isLoading:!1,error:null,filter:{startDate:null,endDate:null,types:[],categories:[],searchTerm:""},stats:{totalIncome:0,totalExpenses:0,balance:0}},l=e=>{let a=e.filter(e=>"ingreso"===e.type).reduce((e,a)=>e+a.amount,0),r=e.filter(e=>"gasto"===e.type).reduce((e,a)=>e+a.amount,0);return{totalIncome:a,totalExpenses:r,balance:a-r}},d=(0,s.oM)({name:"transactions",initialState:o,reducers:{setDateFilter:(e,a)=>{e.filter.startDate=a.payload.startDate,e.filter.endDate=a.payload.endDate},setTypeFilter:(e,a)=>{e.filter.types=a.payload},setCategoryFilter:(e,a)=>{e.filter.categories=a.payload},setSearchTerm:(e,a)=>{e.filter.searchTerm=a.payload},resetFilters:e=>{e.filter=o.filter}},extraReducers:e=>{e.addCase(n.mC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.mC.fulfilled,(e,a)=>{e.isLoading=!1,e.items=a.payload,e.stats=l(a.payload)}).addCase(n.mC.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al cargar las transacciones"}),e.addCase(n.dT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.dT.fulfilled,(e,a)=>{e.isLoading=!1,e.items.push(a.payload),e.stats=l(e.items)}).addCase(n.dT.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al a\xf1adir la transacci\xf3n"}),e.addCase(n.Ld.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.Ld.fulfilled,(e,a)=>{e.isLoading=!1;let r=e.items.findIndex(e=>e.id===a.payload.id);-1!==r&&(e.items[r]=a.payload),e.stats=l(e.items)}).addCase(n.Ld.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al actualizar la transacci\xf3n"}),e.addCase(n.Ks.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.Ks.fulfilled,(e,a)=>{e.isLoading=!1,e.items=e.items.filter(e=>e.id!==a.payload),e.stats=l(e.items)}).addCase(n.Ks.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al eliminar la transacci\xf3n"})}}),{setDateFilter:c,setTypeFilter:m,setCategoryFilter:u,setSearchTerm:g,resetFilters:p}=d.actions,f=d.reducer;var h=r(4355);let y={items:[],isLoading:!1,error:null,filter:{isActive:!0,categories:[],searchTerm:""},stats:{totalGoals:0,totalTargetAmount:0,totalCurrentAmount:0,completionRate:0}},x=e=>{let a=e.length,r=e.reduce((e,a)=>e+a.targetAmount,0),t=e.reduce((e,a)=>e+a.currentAmount,0),s=e.filter(e=>e.isCompleted).length;return{totalGoals:a,totalTargetAmount:r,totalCurrentAmount:t,completionRate:a>0?s/a*100:0}},j=(0,s.oM)({name:"goals",initialState:y,reducers:{setActiveFilter:(e,a)=>{e.filter.isActive=a.payload},setCategoryFilter:(e,a)=>{e.filter.categories=a.payload},setSearchTerm:(e,a)=>{e.filter.searchTerm=a.payload},resetFilters:e=>{e.filter=y.filter}},extraReducers:e=>{e.addCase(h.gY.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h.gY.fulfilled,(e,a)=>{e.isLoading=!1,e.items=a.payload,e.stats=x(a.payload)}).addCase(h.gY.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al cargar las metas"}),e.addCase(h.jF.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h.jF.fulfilled,(e,a)=>{e.isLoading=!1,e.items.push(a.payload),e.stats=x(e.items)}).addCase(h.jF.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al a\xf1adir la meta"}),e.addCase(h.LB.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h.LB.fulfilled,(e,a)=>{e.isLoading=!1;let r=e.items.findIndex(e=>e.id===a.payload.id);-1!==r&&(e.items[r]=a.payload),e.stats=x(e.items)}).addCase(h.LB.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al actualizar la meta"}),e.addCase(h.s6.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h.s6.fulfilled,(e,a)=>{e.isLoading=!1,e.items=e.items.filter(e=>e.id!==a.payload),e.stats=x(e.items)}).addCase(h.s6.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al eliminar la meta"}),e.addCase(h.RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h.RA.fulfilled,(e,a)=>{e.isLoading=!1;let r=e.items.findIndex(e=>e.id===a.payload.id);-1!==r&&(e.items[r]=a.payload),e.stats=x(e.items)}).addCase(h.RA.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al actualizar el progreso de la meta"})}}),{setActiveFilter:b,setCategoryFilter:w,setSearchTerm:v,resetFilters:C}=j.actions,E=j.reducer,L=(0,s.hg)("alerts/fetchAlerts",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/alerts?userId=${e}`);if(!r.ok){let e=await r.json();return a(e.message||"Error al obtener alertas")}return(await r.json()).data}catch(e){return a(e.message||"Error al obtener alertas")}}),N=(0,s.hg)("alerts/markAsRead",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/alerts/${e}/read`,{method:"PATCH"});if(!r.ok){let e=await r.json();return a(e.message||"Error al marcar la alerta como le\xedda")}return await r.json(),e}catch(e){return a(e.message||"Error al marcar la alerta como le\xedda")}}),T=(0,s.hg)("alerts/markAllAsRead",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/alerts/read-all?userId=${e}`,{method:"PATCH"});if(!r.ok){let e=await r.json();return a(e.message||"Error al marcar todas las alertas como le\xeddas")}return!0}catch(e){return a(e.message||"Error al marcar todas las alertas como le\xeddas")}}),P=(0,s.hg)("alerts/deleteAlert",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/alerts/${e}`,{method:"DELETE"});if(!r.ok){let e=await r.json();return a(e.message||"Error al eliminar la alerta")}return e}catch(e){return a(e.message||"Error al eliminar la alerta")}}),k={items:[],isLoading:!1,error:null,filter:{types:[],isRead:null,searchTerm:""}},S=(0,s.oM)({name:"alerts",initialState:k,reducers:{setTypeFilter:(e,a)=>{e.filter.types=a.payload},setReadFilter:(e,a)=>{e.filter.isRead=a.payload},setSearchTerm:(e,a)=>{e.filter.searchTerm=a.payload},resetFilters:e=>{e.filter=k.filter}},extraReducers:e=>{e.addCase(L.pending,e=>{e.isLoading=!0,e.error=null}).addCase(L.fulfilled,(e,a)=>{e.isLoading=!1,e.items=a.payload}).addCase(L.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al cargar las alertas"}),e.addCase(N.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N.fulfilled,(e,a)=>{e.isLoading=!1;let r=e.items.findIndex(e=>e.id===a.payload);-1!==r&&(e.items[r].isRead=!0)}).addCase(N.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al marcar la alerta como le\xedda"}),e.addCase(T.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T.fulfilled,e=>{e.isLoading=!1,e.items=e.items.map(e=>({...e,isRead:!0}))}).addCase(T.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al marcar todas las alertas como le\xeddas"}),e.addCase(P.pending,e=>{e.isLoading=!0,e.error=null}).addCase(P.fulfilled,(e,a)=>{e.isLoading=!1,e.items=e.items.filter(e=>e.id!==a.payload)}).addCase(P.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Error al eliminar la alerta"})}}),{setTypeFilter:z,setReadFilter:A,setSearchTerm:O,resetFilters:R}=S.actions,D=S.reducer,F=(0,s.xC)({reducer:{transactions:f,goals:E,alerts:D}});function $({children:e}){return t.jsx(i.zt,{store:F,children:e})}let U=F},4355:(e,a,r)=>{"use strict";r.d(a,{LB:()=>n,RA:()=>l,gY:()=>s,jF:()=>i,s6:()=>o});var t=r(99688);let s=(0,t.hg)("goals/fetchGoals",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/goals?userId=${e}`);if(!r.ok){let e=await r.json();return a(e.message||"Error al obtener metas")}return(await r.json()).data}catch(e){return a(e.message||"Error al obtener metas")}}),i=(0,t.hg)("goals/addGoal",async(e,{rejectWithValue:a})=>{try{let r=await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();return a(e.message||"Error al a\xf1adir meta")}return(await r.json()).data}catch(e){return a(e.message||"Error al a\xf1adir meta")}}),n=(0,t.hg)("goals/updateGoal",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/goals/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();return a(e.message||"Error al actualizar meta")}return(await r.json()).data}catch(e){return a(e.message||"Error al actualizar meta")}}),o=(0,t.hg)("goals/deleteGoal",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/goals/${e}`,{method:"DELETE"});if(!r.ok){let e=await r.json();return a(e.message||"Error al eliminar meta")}return e}catch(e){return a(e.message||"Error al eliminar meta")}}),l=(0,t.hg)("goals/updateGoalProgress",async({id:e,amount:a},{rejectWithValue:r})=>{try{let t=await fetch(`/api/goals/${e}/progress`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a})});if(!t.ok){let e=await t.json();return r(e.message||"Error al actualizar el progreso")}return(await t.json()).data}catch(e){return r(e.message||"Error al actualizar el progreso")}})},96703:(e,a,r)=>{"use strict";r.d(a,{Ks:()=>o,Ld:()=>n,dT:()=>i,mC:()=>s});var t=r(99688);let s=(0,t.hg)("transactions/fetchTransactions",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/transactions?userId=${e}`);if(!r.ok){let e=await r.json();return a(e.message||"Error al obtener transacciones")}return(await r.json()).data}catch(e){return a(e.message||"Error al obtener transacciones")}}),i=(0,t.hg)("transactions/addTransaction",async(e,{rejectWithValue:a})=>{try{let r=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();return a(e.message||"Error al a\xf1adir transacci\xf3n")}return(await r.json()).data}catch(e){return a(e.message||"Error al a\xf1adir transacci\xf3n")}}),n=(0,t.hg)("transactions/updateTransaction",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/transactions/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();return a(e.message||"Error al actualizar transacci\xf3n")}return(await r.json()).data}catch(e){return a(e.message||"Error al actualizar transacci\xf3n")}}),o=(0,t.hg)("transactions/deleteTransaction",async(e,{rejectWithValue:a})=>{try{let r=await fetch(`/api/transactions/${e}`,{method:"DELETE"});if(!r.ok){let e=await r.json();return a(e.message||"Error al eliminar transacci\xf3n")}return e}catch(e){return a(e.message||"Error al eliminar transacci\xf3n")}})},87786:(e,a,r)=>{let t=r(11185),s=r(6521),i=new t.Schema({name:{type:String,required:[!0,"Por favor proporciona un nombre"],trim:!0},email:{type:String,required:[!0,"Por favor proporciona un email"],unique:!0,lowercase:!0,match:[/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,"Por favor proporciona un email v\xe1lido"]},password:{type:String,required:[!0,"Por favor proporciona una contrase\xf1a"],minlength:6,select:!1},monthlyIncome:{type:Number,default:0},monthlyExpenses:{type:Number,default:0},mainExpenseCategories:{type:[String],default:[]},savingsGoal:{type:Number,default:0},referralSource:{type:String,default:""},createdAt:{type:Date,default:Date.now},isOnboarded:{type:Boolean,default:!1}});i.pre("save",async function(e){this.isModified("password")||e();let a=await s.genSalt(10);this.password=await s.hash(this.password,a)}),i.methods.matchPassword=async function(e){return await s.compare(e,this.password)},e.exports=t.models.User||t.model("User",i)},7784:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>m});var t=r(25036),s=r(82002),i=r(49605),n=r(44551);let o=(0,r(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/DashboardShell.tsx`),{__esModule:l,$$typeof:d}=o,c=o.default;async function m({children:e}){return await (0,i.getServerSession)(s.L)||(0,n.redirect)("/login"),t.jsx(c,{children:e})}},56281:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>y,metadata:()=>h});var t=r(25036),s=r(46408),i=r.n(s);r(5023);var n=r(72245),o=r(86843);let l=(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let m=(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx#ThemeProvider`),u=(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/AuthProvider.tsx`),{__esModule:g,$$typeof:p}=u,f=u.default,h={title:"Kipo - Control de Finanzas Personales",description:"Gestiona tus finanzas personales de forma sencilla e inteligente."};function y({children:e}){return(0,t.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,children:[t.jsx("head",{}),t.jsx("body",{className:(0,n.cn)("min-h-screen bg-background font-sans antialiased",i().variable),children:t.jsx(f,{children:t.jsx(m,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:e})})})]})}},82002:(e,a,r)=>{"use strict";r.d(a,{L:()=>d});var t=r(86485),s=r(25459),i=r(87786),n=r.n(i),o=r(6521),l=r.n(o);let d={providers:[(0,t.Z)({id:"credentials",name:"Credenciales",credentials:{email:{label:"Email",type:"email"},password:{label:"Contrase\xf1a",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email y contrase\xf1a son requeridos");await (0,s.v)();let a=await n().findOne({email:e.email}).select("+password");if(!a)throw Error("Usuario no encontrado");if(!await l().compare(e.password,a.password))throw Error("Contrase\xf1a incorrecta");return{id:a._id.toString(),name:a.name,email:a.email,isOnboarded:a.isOnboarded}}})],pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:e,user:a})=>(a&&(e.id=a.id,e.isOnboarded=a.isOnboarded),e),session:async({session:e,token:a})=>(a&&(e.user={...e.user,id:a.id,isOnboarded:a.isOnboarded}),e)},session:{strategy:"jwt",maxAge:2592e3},secret:process.env.NEXTAUTH_SECRET,debug:!1}},25459:(e,a,r)=>{"use strict";r.d(a,{Z:()=>l,v:()=>o});var t=r(11185),s=r.n(t);let i=process.env.MONGODB_URI;if(!i)throw Error("Por favor define la variable de entorno MONGODB_URI dentro de .env.local");let n=global.mongoose;async function o(){return n.conn||(n.promise||(n.promise=s().connect(i,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(e=>e)),n.conn=await n.promise),n.conn}n||(n=global.mongoose={conn:null,promise:null});let l=o},72245:(e,a,r)=>{"use strict";r.d(a,{cn:()=>i});var t=r(70990),s=r(81774);function i(...e){return(0,s.m6)((0,t.W)(e))}},5023:()=>{}};