(()=>{var e={};e.id=461,e.ids=[461],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},88406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(50482),a=r(69108),n=r(62563),o=r.n(n),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["onboarding",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2613)),"/Users/salomon/Documents/Projects/kipo-app/src/app/onboarding/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56281)),"/Users/salomon/Documents/Projects/kipo-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/salomon/Documents/Projects/kipo-app/src/app/onboarding/page.tsx"],u="/onboarding/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/onboarding/page",pathname:"/onboarding",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35612:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},63595:(e,t,r)=>{Promise.resolve().then(r.bind(r,42317)),Promise.resolve().then(r.bind(r,42105))},52033:(e,t,r)=>{Promise.resolve().then(r.bind(r,45811))},63024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35299:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},42739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95344),a=r(47674);function n({children:e}){return s.jsx(a.SessionProvider,{children:e})}},45811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(95344),a=r(3729),n=r(22254),o=r(5094),i=r(46540),l=r(23673),d=r(63024),c=r(42739),u=r(35299);let m=["Vivienda","Alimentaci\xf3n","Transporte","Servicios","Entretenimiento","Salud","Educaci\xf3n","Ropa","Ahorro","Deudas","Inversiones","Otros"],p=["Amigo o familiar","Redes sociales","B\xfasqueda en internet","Anuncio","Art\xedculo o blog","Otro"];function f(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(1),[f,x]=(0,a.useState)(!1),[g,h]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[N,P]=(0,a.useState)([]),[S,w]=(0,a.useState)(""),[_,k]=(0,a.useState)(""),C=e=>{N.includes(e)?P(N.filter(t=>t!==e)):P([...N,e])},E=async()=>{try{x(!0),h("");let t=await fetch("/api/auth/onboarding",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({monthlyIncome:parseFloat(b),monthlyExpenses:parseFloat(y),mainExpenseCategories:N,savingsGoal:parseFloat(S),referralSource:_})}),r=await t.json();if(!t.ok){h(r.message||"Ocurri\xf3 un error al guardar tus datos");return}e.push("/dashboard")}catch(e){console.error("Error en onboarding:",e),h("Ocurri\xf3 un error al guardar tus datos")}finally{x(!1)}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-4 py-12 dark:bg-slate-900",children:(0,s.jsxs)(l.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(l.Ol,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-2 space-x-1",children:[1,2,3,4,5].map(e=>s.jsx("div",{className:`h-2 w-10 rounded-full ${e===t?"bg-primary":e<t?"bg-primary/70":"bg-primary/20"}`},e))}),s.jsx(l.ll,{className:"text-2xl font-bold",children:"Configuremos tu cuenta"}),(0,s.jsxs)(l.SZ,{children:[1===t&&"Para brindarte la mejor experiencia, necesitamos conocer un poco sobre tus finanzas",2===t&&"Ahora cu\xe9ntanos sobre tus gastos mensuales",3===t&&"Selecciona tus principales categor\xedas de gasto",4===t&&"\xbfCu\xe1nto te gustar\xeda ahorrar mensualmente?",5===t&&"\xdaltima pregunta, \xbfc\xf3mo nos conociste?"]})]}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[1===t&&s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"monthlyIncome",className:"text-sm font-medium",children:"\xbfCu\xe1l es tu ingreso mensual aproximado?"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(i.I,{id:"monthlyIncome",type:"number",placeholder:"0.00",value:b,onChange:e=>v(e.target.value),className:"pl-8",min:"0"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Este valor nos ayudar\xe1 a personalizar tus metas financieras"})]})}),2===t&&s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"monthlyExpenses",className:"text-sm font-medium",children:"\xbfCu\xe1l es tu gasto mensual aproximado?"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(i.I,{id:"monthlyExpenses",type:"number",placeholder:"0.00",value:y,onChange:e=>j(e.target.value),className:"pl-8",min:"0"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Incluye todos tus gastos regulares como vivienda, alimentaci\xf3n, transporte, etc."})]})}),3===t&&s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selecciona tus principales categor\xedas de gasto"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:m.map(e=>s.jsx("button",{type:"button",onClick:()=>C(e),className:`rounded-md px-3 py-2 text-sm font-medium ${N.includes(e)?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:e},e))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona todas las que apliquen (m\xe1ximo 5)"})]})}),4===t&&s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"savingsGoal",className:"text-sm font-medium",children:"\xbfCu\xe1nto te gustar\xeda ahorrar mensualmente?"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(i.I,{id:"savingsGoal",type:"number",placeholder:"0.00",value:S,onChange:e=>w(e.target.value),className:"pl-8",min:"0"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Establecer una meta de ahorro te ayudar\xe1 a construir un futuro financiero s\xf3lido"})]})}),5===t&&s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"\xbfC\xf3mo conociste Kipo?"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(e=>s.jsx("button",{type:"button",onClick:()=>k(e),className:`rounded-md px-3 py-2 text-sm font-medium ${_===e?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:e},e))})]})}),g&&s.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:g})]})}),(0,s.jsxs)(l.eW,{className:"flex justify-between",children:[(0,s.jsxs)(o.z,{variant:"outline",onClick:()=>{t>1&&r(t-1)},disabled:1===t||f,children:[s.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Anterior"]}),s.jsx(o.z,{onClick:()=>{if(1!==t||b){if(2!==t||y){if(3===t&&0===N.length){h("Por favor selecciona al menos una categor\xeda de gasto");return}if(4===t&&!S){h("Por favor ingresa cu\xe1nto deseas ahorrar mensualmente");return}}else{h("Por favor ingresa tu gasto mensual aproximado");return}}else{h("Por favor ingresa tu ingreso mensual aproximado");return}h(""),t<5?r(t+1):E()},disabled:f,children:f?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):5===t?s.jsx(s.Fragment,{children:"Finalizar"}):(0,s.jsxs)(s.Fragment,{children:["Siguiente",s.jsx(u.Z,{className:"ml-2 h-4 w-4"})]})})]})]})})}},42105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ThemeProvider:()=>n});var s=r(95344);r(3729);var a=r(6256);function n({children:e,...t}){return s.jsx(a.f,{...t,children:e})}},5094:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(95344),a=r(3729),n=r(45877),o=r(49247),i=r(11453);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},d)=>{let c=a?n.Slot:"button";return s.jsx(c,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...o})});d.displayName="Button"},23673:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>o,aY:()=>c,eW:()=>u,ll:()=>l});var s=r(95344),a=r(3729),n=r(11453);let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},46540:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(95344),a=r(3729),n=r(11453);let o=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));o.displayName="Input"},11453:(e,t,r)=>{"use strict";r.d(t,{SB:()=>i,cn:()=>n,xG:()=>o});var s=r(56815),a=r(79377);function n(...e){return(0,a.m6)((0,s.W)(e))}function o(e,t="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:t}).format(e)}function i(e,t){return t<=0?0:Math.min(Math.max(e/t*100,0),100)}},48096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DYNAMIC_ERROR_CODE:function(){return r},DynamicServerError:function(){return s}});let r="DYNAMIC_SERVER_USAGE";class s extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=r}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"staticGenerationBailout",{enumerable:!0,get:function(){return i}});let s=r(48096),a=r(45869);class n extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function o(e,t){let{dynamic:r,link:s}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(s?" See more info here: "+s:"")}let i=(e,t)=>{let{dynamic:r,link:i}=void 0===t?{}:t,l=a.staticGenerationAsyncStorage.getStore();if(!l)return!1;if(l.forceStatic)return!0;if(l.dynamicShouldError)throw new n(o(e,{link:i,dynamic:null!=r?r:"error"}));let d=o(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==l.postpone||l.postpone.call(l,e),l.revalidate=0,l.isStaticGeneration){let t=new s.DynamicServerError(d);throw l.dynamicUsageDescription=e,l.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},56281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>g});var s=r(25036),a=r(46408),n=r.n(a);r(5023);var o=r(72245),i=r(86843);let l=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let u=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/theme-provider.tsx#ThemeProvider`),m=(0,i.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/AuthProvider.tsx`),{__esModule:p,$$typeof:f}=m,x=m.default,g={title:"Kipo - Control de Finanzas Personales",description:"Gestiona tus finanzas personales de forma sencilla e inteligente."};function h({children:e}){return(0,s.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,children:[s.jsx("head",{}),s.jsx("body",{className:(0,o.cn)("min-h-screen bg-background font-sans antialiased",n().variable),children:s.jsx(x,{children:s.jsx(u,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:e})})})]})}},2613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(25036);let a=(0,r(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/Onboarding.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default;function l(){return s.jsx(i,{})}},72245:(e,t,r)=>{"use strict";r.d(t,{SB:()=>i,cn:()=>n,xG:()=>o});var s=r(70990),a=r(81774);function n(...e){return(0,a.m6)((0,s.W)(e))}function o(e,t="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:t}).format(e)}function i(e,t){return t<=0?0:Math.min(Math.max(e/t*100,0),100)}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,367,969],()=>r(88406));module.exports=s})();