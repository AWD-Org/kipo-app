(()=>{var e={};e.id=461,e.ids=[461],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},88406:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=r(50482),a=r(69108),n=r(62563),o=r.n(n),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(s,l);let d=["",{children:["onboarding",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2613)),"/Users/salomon/Documents/Projects/kipo-app/src/app/onboarding/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5470)),"/Users/salomon/Documents/Projects/kipo-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/salomon/Documents/Projects/kipo-app/src/app/onboarding/page.tsx"],u="/onboarding/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/onboarding/page",pathname:"/onboarding",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35612:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},71556:(e,s,r)=>{Promise.resolve().then(r.bind(r,42317))},52033:(e,s,r)=>{Promise.resolve().then(r.bind(r,45811))},63024:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35299:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},42739:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42317:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(95344),a=r(47674);function n({children:e}){return t.jsx(a.SessionProvider,{children:e})}},45811:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var t=r(95344),a=r(3729),n=r(22254),o=r(5094),i=r(46540),l=r(23673),d=r(63024),c=r(42739),u=r(35299);let m=["Vivienda","Alimentaci\xf3n","Transporte","Servicios","Entretenimiento","Salud","Educaci\xf3n","Ropa","Ahorro","Deudas","Inversiones","Otros"],p=["Amigo o familiar","Redes sociales","B\xfasqueda en internet","Anuncio","Art\xedculo o blog","Otro"];function x(){let e=(0,n.useRouter)(),[s,r]=(0,a.useState)(1),[x,f]=(0,a.useState)(!1),[g,h]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[N,P]=(0,a.useState)([]),[w,k]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),q=e=>{N.includes(e)?P(N.filter(s=>s!==e)):P([...N,e])},_=async()=>{try{f(!0),h("");let s=await fetch("/api/auth/onboarding",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({monthlyIncome:parseFloat(b),monthlyExpenses:parseFloat(y),mainExpenseCategories:N,savingsGoal:parseFloat(w),referralSource:C})}),r=await s.json();if(!s.ok){h(r.message||"Ocurri\xf3 un error al guardar tus datos");return}e.push("/dashboard")}catch(e){console.error("Error en onboarding:",e),h("Ocurri\xf3 un error al guardar tus datos")}finally{f(!1)}};return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-4 py-12 dark:bg-slate-900",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(l.Ol,{className:"space-y-1 text-center",children:[t.jsx("div",{className:"flex justify-center mb-2 space-x-1",children:[1,2,3,4,5].map(e=>t.jsx("div",{className:`h-2 w-10 rounded-full ${e===s?"bg-primary":e<s?"bg-primary/70":"bg-primary/20"}`},e))}),t.jsx(l.ll,{className:"text-2xl font-bold",children:"Configuremos tu cuenta"}),(0,t.jsxs)(l.SZ,{children:[1===s&&"Para brindarte la mejor experiencia, necesitamos conocer un poco sobre tus finanzas",2===s&&"Ahora cu\xe9ntanos sobre tus gastos mensuales",3===s&&"Selecciona tus principales categor\xedas de gasto",4===s&&"\xbfCu\xe1nto te gustar\xeda ahorrar mensualmente?",5===s&&"\xdaltima pregunta, \xbfc\xf3mo nos conociste?"]})]}),t.jsx(l.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[1===s&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"monthlyIncome",className:"text-sm font-medium",children:"\xbfCu\xe1l es tu ingreso mensual aproximado?"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),t.jsx(i.I,{id:"monthlyIncome",type:"number",placeholder:"0.00",value:b,onChange:e=>v(e.target.value),className:"pl-8",min:"0"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Este valor nos ayudar\xe1 a personalizar tus metas financieras"})]})}),2===s&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"monthlyExpenses",className:"text-sm font-medium",children:"\xbfCu\xe1l es tu gasto mensual aproximado?"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),t.jsx(i.I,{id:"monthlyExpenses",type:"number",placeholder:"0.00",value:y,onChange:e=>j(e.target.value),className:"pl-8",min:"0"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Incluye todos tus gastos regulares como vivienda, alimentaci\xf3n, transporte, etc."})]})}),3===s&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Selecciona tus principales categor\xedas de gasto"}),t.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:m.map(e=>t.jsx("button",{type:"button",onClick:()=>q(e),className:`rounded-md px-3 py-2 text-sm font-medium ${N.includes(e)?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:e},e))}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona todas las que apliquen (m\xe1ximo 5)"})]})}),4===s&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"savingsGoal",className:"text-sm font-medium",children:"\xbfCu\xe1nto te gustar\xeda ahorrar mensualmente?"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),t.jsx(i.I,{id:"savingsGoal",type:"number",placeholder:"0.00",value:w,onChange:e=>k(e.target.value),className:"pl-8",min:"0"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Establecer una meta de ahorro te ayudar\xe1 a construir un futuro financiero s\xf3lido"})]})}),5===s&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"\xbfC\xf3mo conociste Kipo?"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(e=>t.jsx("button",{type:"button",onClick:()=>S(e),className:`rounded-md px-3 py-2 text-sm font-medium ${C===e?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:e},e))})]})}),g&&t.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:g})]})}),(0,t.jsxs)(l.eW,{className:"flex justify-between",children:[(0,t.jsxs)(o.z,{variant:"outline",onClick:()=>{s>1&&r(s-1)},disabled:1===s||x,children:[t.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Anterior"]}),t.jsx(o.z,{onClick:()=>{if(1!==s||b){if(2!==s||y){if(3===s&&0===N.length){h("Por favor selecciona al menos una categor\xeda de gasto");return}if(4===s&&!w){h("Por favor ingresa cu\xe1nto deseas ahorrar mensualmente");return}}else{h("Por favor ingresa tu gasto mensual aproximado");return}}else{h("Por favor ingresa tu ingreso mensual aproximado");return}h(""),s<5?r(s+1):_()},disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):5===s?t.jsx(t.Fragment,{children:"Finalizar"}):(0,t.jsxs)(t.Fragment,{children:["Siguiente",t.jsx(u.Z,{className:"ml-2 h-4 w-4"})]})})]})]})})}},5094:(e,s,r)=>{"use strict";r.d(s,{z:()=>d});var t=r(95344),a=r(3729),n=r(45877),o=r(49247),i=r(11453);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:s,size:r,asChild:a=!1,...o},d)=>{let c=a?n.Slot:"button";return t.jsx(c,{className:(0,i.cn)(l({variant:s,size:r,className:e})),ref:d,...o})});d.displayName="Button"},23673:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>i,SZ:()=>d,Zb:()=>o,aY:()=>c,eW:()=>u,ll:()=>l});var t=r(95344),a=r(3729),n=r(11453);let o=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},46540:(e,s,r)=>{"use strict";r.d(s,{I:()=>o});var t=r(95344),a=r(3729),n=r(11453);let o=a.forwardRef(({className:e,type:s,...r},a)=>t.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));o.displayName="Input"},11453:(e,s,r)=>{"use strict";r.d(s,{SB:()=>i,cn:()=>n,xG:()=>o});var t=r(56815),a=r(79377);function n(...e){return(0,a.m6)((0,t.W)(e))}function o(e,s="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:s}).format(e)}function i(e,s){return s<=0?0:Math.min(Math.max(e/s*100,0),100)}},5470:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m,metadata:()=>u});var t=r(25036),a=r(46408),n=r.n(a);r(5023);var o=r(72245);let i=(0,r(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/AuthProvider.tsx`),{__esModule:l,$$typeof:d}=i,c=i.default,u={title:"Kipo - Control de Finanzas Personales",description:"Gestiona tus finanzas personales de forma sencilla e inteligente."};function m({children:e}){return(0,t.jsxs)("html",{lang:"es",className:"light",children:[t.jsx("head",{}),t.jsx("body",{className:(0,o.cn)("min-h-screen bg-background font-sans antialiased",n().variable),children:t.jsx(c,{children:e})})]})}},2613:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(25036);let a=(0,r(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/components/Onboarding.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default;function l(){return t.jsx(i,{})}},72245:(e,s,r)=>{"use strict";r.d(s,{SB:()=>i,cn:()=>n,xG:()=>o});var t=r(70990),a=r(81774);function n(...e){return(0,a.m6)((0,t.W)(e))}function o(e,s="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:s}).format(e)}function i(e,s){return s<=0?0:Math.min(Math.max(e/s*100,0),100)}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,621,969],()=>r(88406));module.exports=t})();