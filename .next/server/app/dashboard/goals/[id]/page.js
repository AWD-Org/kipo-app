(()=>{var e={};e.id=167,e.ids=[167],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},19693:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["dashboard",{children:["goals",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9818)),"/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/goals/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7784)),"/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,56281)),"/Users/salomon/Documents/Projects/kipo-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/goals/[id]/page.tsx"],u="/dashboard/goals/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/goals/[id]/page",pathname:"/dashboard/goals/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87363:(e,r,s)=>{Promise.resolve().then(s.bind(s,45877)),Promise.resolve().then(s.t.bind(s,61476,23))},30514:(e,r,s)=>{let t=s(11185),a=new t.Schema({monthly:{type:Number,required:!0},weekly:{type:Number,required:!0}},{_id:!1}),n=new t.Schema({user:{type:t.Schema.Types.ObjectId,ref:"User",required:!0},title:{type:String,required:[!0,"El t\xedtulo de la meta es requerido"],trim:!0},description:{type:String,default:""},targetAmount:{type:Number,required:[!0,"El monto objetivo es requerido"]},currentAmount:{type:Number,default:0},startDate:{type:Date,default:Date.now},targetDate:{type:Date,required:[!0,"La fecha objetivo es requerida"]},category:{type:String,enum:["ahorro","inversi\xf3n","deuda","compra","otro"],default:"ahorro"},priority:{type:String,enum:["baja","media","alta"],default:"media"},reminderFrequency:{type:String,enum:["none","daily","weekly","monthly"],default:"none"},isCompleted:{type:Boolean,default:!1},isActive:{type:Boolean,default:!0},suggestedPlan:{type:a,default:null}});n.index({user:1,isActive:1}),n.index({user:1,category:1}),n.index({user:1,targetDate:1}),e.exports=t.models.Goal||t.model("Goal",n)},48026:(e,r,s)=>{let{createProxy:t}=s(86843);e.exports=t("/Users/salomon/Documents/Projects/kipo-app/node_modules/next/dist/client/link.js")},40646:(e,r,s)=>{e.exports=s(48026)},9818:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g,dynamic:()=>h});var t=s(25036),a=s(49605),n=s(88726),i=s(82002),o=s(25459),l=s(72245),d=s(30514),c=s.n(d),u=s(44551),x=s(14852),p=s(40646),m=s.n(p);let h="force-dynamic";async function g({params:e}){let r=await (0,a.getServerSession)(i.L);r||(0,n.redirect)("/login"),await (0,o.Z)();let s=await c().findById(e.id).lean();(!s||Array.isArray(s))&&(0,n.notFound)(),s.user.toString()!==r.user.id&&(0,n.notFound)();let d=(0,l.SB)(s.currentAmount,s.targetAmount),p=Math.max(0,Math.ceil((new Date(s.targetDate).getTime()-Date.now())/864e5));return(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-full flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold inline-block mr-4",children:s.title}),t.jsx("span",{className:"text-sm text-muted-foreground",children:s.isCompleted?"Completada":p>0?`${p} d\xedas restantes`:"Vencida"})]}),t.jsx(m(),{href:"/dashboard/goals",children:t.jsx(x.z,{variant:"ghost",children:"← Volver a Metas"})})]}),(0,t.jsxs)(u.Zb,{className:"h-full flex flex-col",children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Descripci\xf3n"})}),t.jsx(u.aY,{className:"flex-grow",children:s.description?t.jsx("p",{className:"text-muted-foreground",children:s.description}):t.jsx("p",{className:"text-sm text-muted-foreground",children:"Sin descripci\xf3n"})})]}),(0,t.jsxs)(u.Zb,{className:"h-full flex flex-col",children:[(0,t.jsxs)(u.Ol,{children:[t.jsx(u.ll,{children:"Montos y Progreso"}),t.jsx(u.SZ,{children:"Objetivo vs. ahorrado"})]}),(0,t.jsxs)(u.aY,{className:"flex-grow space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Meta:"}),t.jsx("span",{className:"font-medium",children:(0,l.xG)(s.targetAmount)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Actual:"}),t.jsx("span",{className:"font-medium",children:(0,l.xG)(s.currentAmount)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Progreso"}),(0,t.jsxs)("span",{children:[Math.round(d),"%"]})]}),t.jsx("div",{className:"w-full bg-secondary h-2.5 rounded-full",children:t.jsx("div",{className:`h-2.5 rounded-full ${s.isCompleted?"bg-green-500":"bg-primary"}`,style:{width:`${d}%`}})})]})]}),t.jsx(u.eW,{className:"flex justify-end",children:!s.isCompleted&&t.jsx(m(),{href:`/dashboard/goals/${s._id}/add-progress`,children:t.jsx(x.z,{size:"sm",children:"+ Progreso"})})})]}),(0,t.jsxs)(u.Zb,{className:"h-full",children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Fechas"})}),(0,t.jsxs)(u.aY,{children:[(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Inicio:"})," ",new Date(s.startDate).toLocaleDateString()]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Vence:"})," ",new Date(s.targetDate).toLocaleDateString()]})]})]}),(0,t.jsxs)(u.Zb,{className:"h-full",children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Categor\xeda / Prioridad"})}),(0,t.jsxs)(u.aY,{children:[(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Categor\xeda:"})," ",s.category.charAt(0).toUpperCase()+s.category.slice(1)]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Prioridad:"})," ",s.priority.charAt(0).toUpperCase()+s.priority.slice(1)]})]})]}),(0,t.jsxs)(u.Zb,{className:"h-full",children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Recordatorios"})}),t.jsx(u.aY,{children:"none"===s.reminderFrequency?"Sin recordatorios":s.reminderFrequency.charAt(0).toUpperCase()+s.reminderFrequency.slice(1)})]}),s.suggestedPlan&&(0,t.jsxs)(u.Zb,{className:"h-full border-blue-400",children:[t.jsx(u.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[t.jsx(u.ll,{children:"Plan de Ahorro Sugerido"}),t.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-0.5 rounded-full",children:"Creado con IA"})]})}),(0,t.jsxs)(u.aY,{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Aporte mensual:"})," ",(0,l.xG)(s.suggestedPlan.monthly)]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Aporte semanal:"})," ",(0,l.xG)(s.suggestedPlan.weekly)]})]})]})]})}},14852:(e,r,s)=>{"use strict";s.d(r,{z:()=>f});var t,a,n=s(25036),i=s(40002),o=s(86843);let l=(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs`),{__esModule:d,$$typeof:c}=l;l.default,(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs#Root`);let u=(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs#Slot`);(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs#Slottable`),(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs#createSlot`),(0,o.createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/node_modules/@radix-ui/react-slot/dist/index.mjs#createSlottable`);var x=s(70990);let p=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,m=x.W;var h=s(72245);let g=(t="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==a?void 0:a.variants)==null)return m(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:n}=a,i=Object.keys(s).map(r=>{let t=null==e?void 0:e[r],a=null==n?void 0:n[r];if(null===t)return null;let i=p(t)||p(a);return s[r][i]}),o=e&&Object.entries(e).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return m(t,i,null==a?void 0:null===(r=a.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:s,className:t,...a}=r;return Object.entries(a).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...n,...o}[r]):({...n,...o})[r]===s})?[...e,s,t]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),f=i.forwardRef(({className:e,variant:r,size:s,asChild:t=!1,...a},i)=>{let o=t?u:"button";return n.jsx(o,{className:(0,h.cn)(g({variant:r,size:s,className:e})),ref:i,...a})});f.displayName="Button"},44551:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var t=s(25036),a=s(40002),n=s(72245);let i=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},s)=>t.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},s)=>t.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,393,255,367,969,476,636,953],()=>s(19693));module.exports=t})();