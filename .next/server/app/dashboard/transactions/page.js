(()=>{var e={};e.id=336,e.ids=[336],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},95310:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(50482),a=t(69108),n=t(62563),i=t.n(n),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["dashboard",{children:["transactions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,30453)),"/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/transactions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7784)),"/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,56281)),"/Users/salomon/Documents/Projects/kipo-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/transactions/page.tsx"],u="/dashboard/transactions/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/transactions/page",pathname:"/dashboard/transactions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},61046:(e,s,t)=>{Promise.resolve().then(t.bind(t,43737))},51838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},43737:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(95344),a=t(3729),n=t(20783),i=t.n(n),o=t(47674),l=t(23673),d=t(5094),c=t(46540),u=t(51838),x=t(69224);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,x.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m=(0,x.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),f=(0,x.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var h=t(11453),g=t(53853),j=t(96703),v=t(54141),y=t(86688);function b(){let{status:e}=(0,o.useSession)({required:!0}),s=(0,g.T)(),{items:t,isLoading:n,error:x}=(0,g.C)(e=>e.transactions),[v,b]=(0,a.useState)(""),[N,w]=(0,a.useState)(null),[k,q]=(0,a.useState)("desc");(0,a.useEffect)(()=>{"authenticated"===e&&s((0,j.mC)())},[s,e]);let C=t.filter(e=>{let s=!v||(e.description||"").toLowerCase().includes(v.toLowerCase())||e.category.toLowerCase().includes(v.toLowerCase()),t=!N||e.type===N;return s&&t}).sort((e,s)=>{let t=new Date(e.date).getTime(),r=new Date(s.date).getTime();return"asc"===k?t-r:r-t});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Transacciones"}),r.jsx("p",{className:"text-muted-foreground",children:"Administra tus ingresos y gastos"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i(),{href:"/dashboard/new-transaction",children:(0,r.jsxs)(d.z,{className:"gap-1",children:[r.jsx(u.Z,{size:16})," Nueva transacci\xf3n"]})}),(0,r.jsxs)(d.z,{variant:"outline",onClick:()=>{},children:[r.jsx(p,{size:16})," Exportar"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(c.I,{placeholder:"Buscar por descripci\xf3n o categor\xeda...",className:"pl-10",value:v,onChange:e=>b(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(d.z,{variant:null===N?"default":"outline",onClick:()=>w(null),children:"Todos"}),r.jsx(d.z,{variant:"ingreso"===N?"default":"outline",onClick:()=>w("ingreso"),className:"text-green-500",children:"Ingresos"}),r.jsx(d.z,{variant:"gasto"===N?"default":"outline",onClick:()=>w("gasto"),className:"text-red-500",children:"Gastos"}),(0,r.jsxs)(d.z,{variant:"outline",onClick:()=>q(e=>"asc"===e?"desc":"asc"),className:"gap-1",children:[r.jsx(f,{size:16})," ","asc"===k?"M\xe1s antiguos":"M\xe1s recientes"]})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[r.jsx(l.ll,{children:"Historial de transacciones"}),r.jsx(l.SZ,{children:n?"Cargando...":x||`${C.length} transacciones encontradas`})]}),r.jsx(l.aY,{className:"p-0",children:n?Array.from({length:5}).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(y.O,{className:"h-10 w-2 rounded"}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y.O,{className:"h-4 w-24 rounded"}),r.jsx(y.O,{className:"h-3 w-32 rounded"}),r.jsx(y.O,{className:"h-3 w-12 rounded"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[r.jsx(y.O,{className:"h-4 w-16 rounded"}),r.jsx(y.O,{className:"h-4 w-20 rounded"})]})]},s)):x?r.jsx("div",{className:"p-8 text-center text-destructive",children:x}):0===C.length?r.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No hay transacciones"}):C.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-10 rounded-full ${"ingreso"===e.type?"bg-green-500":"bg-red-500"}`}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.category}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description||"Sin descripci\xf3n"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.date).toLocaleDateString("es-MX")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsxs)("p",{className:`font-bold ${"ingreso"===e.type?"text-green-500":"text-red-500"}`,children:["ingreso"===e.type?"+":"-",(0,h.xG)(e.amount)]}),e.isRecurrent&&r.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800",children:"Recurrente"})]})]},e.id))})]})]})}function N(){return r.jsx(v.ReduxProvider,{children:r.jsx(b,{})})}},23673:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var r=t(95344),a=t(3729),n=t(11453);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},46540:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var r=t(95344),a=t(3729),n=t(11453);let i=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},86688:(e,s,t)=>{"use strict";t.d(s,{O:()=>a});var r=t(95344);function a({className:e="",...s}){return r.jsx("div",{"aria-hidden":"true",className:`bg-muted animate-pulse ${e}`,...s})}t(3729)},53853:(e,s,t)=>{"use strict";t.d(s,{C:()=>n,T:()=>a});var r=t(36013);let a=()=>(0,r.I0)(),n=r.v9},30453:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,t(86843).createProxy)(String.raw`/Users/salomon/Documents/Projects/kipo-app/src/app/dashboard/transactions/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,393,255,367,969,476,636,928,953,141],()=>t(95310));module.exports=r})();